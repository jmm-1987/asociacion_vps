{% extends "base.html" %}

{% block title %}Editar Registro Financiero - Asociación de Vecinos de Montealto{% endblock %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-lg-8">
        <div class="card shadow-lg border-0">
            <div class="card-header text-center py-4" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
                <h2 class="mb-0 text-white fw-bold">
                    <i class="bi bi-pencil-square me-2"></i>
                    Editar Registro Financiero
                </h2>
            </div>
            <div class="card-body p-5">
                <form method="POST" action="{{ url_for('admin.editar_registro_financiero', registro_id=registro.id) }}">
                    <div class="mb-3">
                        <label for="tipo" class="form-label fw-bold">
                            <i class="bi bi-tag me-1"></i>Tipo <span class="text-danger">*</span>
                        </label>
                        <select class="form-select" id="tipo" name="tipo" required>
                            <option value="">Selecciona un tipo</option>
                            <option value="ingreso" {% if registro.tipo == 'ingreso' %}selected{% endif %}>Ingreso</option>
                            <option value="gasto" {% if registro.tipo == 'gasto' %}selected{% endif %}>Gasto</option>
                        </select>
                    </div>
                    
                    <div class="mb-3">
                        <label for="descripcion" class="form-label fw-bold">
                            <i class="bi bi-card-text me-1"></i>Descripción <span class="text-danger">*</span>
                        </label>
                        <textarea class="form-control" id="descripcion" name="descripcion" rows="3" required>{{ registro.descripcion }}</textarea>
                    </div>
                    
                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <label for="fecha" class="form-label fw-bold">
                                <i class="bi bi-calendar me-1"></i>Fecha <span class="text-danger">*</span>
                            </label>
                            <input type="date" class="form-control" id="fecha" name="fecha" 
                                   value="{{ registro.fecha.strftime('%Y-%m-%d') }}" required>
                        </div>
                        
                        <div class="col-md-6 mb-3">
                            <label for="importe" class="form-label fw-bold">
                                <i class="bi bi-currency-euro me-1"></i>Importe (€) <span class="text-danger">*</span>
                            </label>
                            <input type="number" class="form-control" id="importe" name="importe" 
                                   step="0.01" min="0.01" value="{{ registro.importe }}" required>
                        </div>
                    </div>
                    
                    <div class="d-grid gap-2 mt-4">
                        <button type="submit" class="btn btn-primary btn-lg">
                            <i class="bi bi-check-lg me-2"></i>
                            Guardar Cambios
                        </button>
                        <a href="{{ url_for('admin.finanzas') }}" class="btn btn-outline-secondary">
                            <i class="bi bi-arrow-left me-2"></i>
                            Volver
                        </a>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock %}
